!function(){var t=t||this,i=t.nx||require("next-js-core2"),a=i.Validator||require("next-validator"),e=t.Q||require("q"),n=i.declare("nx.ValidateStrategy",{methods:{init:function(t){this._validators=t||[a],this._cache={}},destroy:function(){this._validators=null,this._cache=null},addAll:function(t,i){var a=this._cache[t]=this._cache[t]||[];this._cache[t]=a.concat(i)},add:function(t,i){var a=this._cache[t]=this._cache[t]||[];a.push(i),this._cache[t]=a},validate:function(t,a){var n=this,r=[];return e.Promise(function(e,c){return i.each(t,function(t,e){var n=this._cache[e];i.each(n,function(t,i){var n=this.getValidator(i.validator),c=n.call(null,a[e],i.data);i.invert?c||r.push(i):c&&r.push(i)},this)},n),r.length?c(r):e(!0)})},getValidator:function(t){var a=(this._validators,null);return i.each(this._validators,function(e,n){if(i.isFunction(n[t]))return a=n[t],i.BREAKER}),a||i.error("Invalid validtor: ["+t+"]")}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();